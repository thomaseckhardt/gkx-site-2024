---
import Section from '@/components/sections/Section.astro'
import type { VideoPlayerStoryblok } from '@/types/storyblok'
import clsx from 'clsx'
import VideoIframe from '../shared/VideoIframe.astro'

export type Props = {
  class?: string
  blok: VideoPlayerStoryblok
}

const { class: className, blok, ...props } = Astro.props

const aspectRatioClasses = {
  '16:9': '',
  '9:16': 'lg:mx-page-mx',
}
const aspectRatioClass =
  aspectRatioClasses[blok.aspectRatio || '16:9'] ?? aspectRatioClasses['16:9']
---

<Section
  class={clsx('relative', aspectRatioClass, className)}
  blok={blok}
  spacing="paragraph"
  {...props}
>
  <VideoIframe videoID={blok.videoID} aspectRatio={blok.aspectRatio} />
</Section>
